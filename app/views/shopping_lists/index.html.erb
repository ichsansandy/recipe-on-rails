<%= render "shared/navbar" %>
<section class="shopping-list-section flex justify-center mt-10">
    <% if @items_to_buy != 0 %>
        <div class="shopping-list-container w-[40%]">
            <header class="flex  items-center justify-center">
                <h2 class="text-2xl font-semibold me-5 "> Shopping Cart</h2>
                <i class="fas fa-cart-arrow-down text-2xl"></i>
            </header>
           <div class="info flex justify-between mt-5">
    <h2>Amount of food items to buy: <%= @recipe_foods.count %></h2>
    <h2>Total value of food needed: $<%= @needed_money %></h2>
</div>

            <div class="table-container mt-10">
                <table class="border w-full ">
                    <thead class="border">
                        <tr>
                            <th>Food</th>
                            <th>Quantity</th>
                            <th>Price</th>
                        </tr>
                    </thead>
                    <tbody>
                       <% @recipe_foods.each do |recipe_food| %>
                            <tr>
                                <th><%= recipe_food.food.name %></th>
                                <th><%= (recipe_food.food.quantity - recipe_food.quantity) %></th>
                                <th><%= (recipe_food.food.quantity - recipe_food.quantity) * recipe_food.food.price %></th>
                            </tr>
<% end %>

                    </tbody>
                </table>
            </div>
        </div>
    <% else %>
        <div class="flex flex-col gap-2">
            <p>Please go to a recipe to generate a shopping list.</p>
            <div class="flex justify-evenly">
                <div class="px-6 rounded-2xl py-3 text-white bg-primary hover:opacity-80 cursor-pointer transition-all"><%= link_to "Public Recipes", public_recipes_path %></div>
                <div class="px-6 rounded-2xl py-3 text-black bg-transparent border border-orange-500 hover:bg-primary cursor-pointer transition-all"><%= link_to "My Recipes", recipes_path %></div>
            </div>
        </div>
    <% end %>
</section>
